import React,{useState}from 'react'; import {api,setToken} from '../api';
export default function Signin(){const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[msg,setMsg]=useState('');const submit=async(e)=>{e.preventDefault();try{const{data}=await api.post('/auth/signin',{email,password});setToken(data.token);localStorage.setItem('jwt',data.token);setMsg('Signed in as '+data.name+' ('+data.role+')')}catch(err){setMsg(err.response?.data?.message||'Error')}};return(<form onSubmit={submit}><h2>Sign in</h2><input placeholder="email" value={email} onChange={e=>setEmail(e.target.value)}/><br/><input type="password" placeholder="password" value={password} onChange={e=>setPassword(e.target.value)}/><br/><button>Sign in</button><div>{msg}</div></form>)}